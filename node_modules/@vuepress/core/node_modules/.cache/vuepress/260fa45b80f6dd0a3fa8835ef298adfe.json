{"remainingRequest":"d:\\MyProduct\\blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!d:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\MyProduct\\blog\\node_modules\\vuepress-plugin-mailchimp\\src\\components\\SimpleNewsletter.vue?vue&type=script&lang=js&","dependencies":[{"path":"d:\\MyProduct\\blog\\node_modules\\vuepress-plugin-mailchimp\\src\\components\\SimpleNewsletter.vue","mtime":1580703989824},{"path":"d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"d:\\MyProduct\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1580610013425},{"path":"d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"d:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1580610017989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFkZFRvTWFpbGNoaW1wIGZyb20gIi4uL21haWxjaGltcFN1YnNjcmliZSI7CmltcG9ydCBldmVudCBmcm9tICIuLi9ldmVudCI7CmltcG9ydCBfZGVidWcgZnJvbSAnZGVidWcnOwoKdmFyIGRlYnVnID0gX2RlYnVnKCdwbHVnaW4tbWFpbGNoaW1wJyk7Ci8qKgogKiBJZiBkZXZlbG9wZXJzIG1ha2UgVUkgY3VzdG9taXp0aW9uIGFuZCBvZmZlciB1c2VycyBhbiBvcHRpb24gd2hldGhlciB0byBlbmFibGUuCiAqIEl0IHdvbid0IGJlIGFibGUgdG8gaW1wb3J0IGNsaWVudCBkeW5hbWljIG1vZHVsZXMgaWYgaXQncyBkaXNhYmxlZC4KICogVXNlIGNvbW1vbkpzIGJlY2F1c2UgZHluYW1pYyBpbXBvcnQgY2Fubm90IGJlIGNhdWdodCBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay93ZWJwYWNrL2lzc3Vlcy81MzYwCiAqLwoKCnZhciBzdWJtaXRUZXh0LCBjb250ZW50LCB0aXRsZSwgcG9wdXBFbmFibGVkOwoKdHJ5IHsKICB2YXIgb3B0aW9ucyA9IHJlcXVpcmUoJ0BkeW5hbWljL21haWxjaGltcE9wdGlvbnMnKTsKCiAgc3VibWl0VGV4dCA9IG9wdGlvbnMuc3VibWl0VGV4dDsKICBjb250ZW50ID0gb3B0aW9ucy5jb250ZW50OwogIHRpdGxlID0gb3B0aW9ucy50aXRsZTsKICBwb3B1cEVuYWJsZWQgPSBvcHRpb25zLnBvcHVwRW5hYmxlZDsKfSBjYXRjaCAoZXJyb3IpIHsKICBkZWJ1ZygnRmFpbCB0byBnZXQgb3B0aW9ucycsIGVycm9yLm1lc3NhZ2UpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNsb3RQcm9wczogewogICAgICAgIG1haWw6ICcnLAogICAgICAgIHRpdGxlOiB0aXRsZSB8fCAnTmV3c2xldHRlcicsCiAgICAgICAgY29udGVudDogY29udGVudCB8fCAnU3Vic2NyaWJlIHRvIGdldCBteSBsYXN0ZXN0IGNvbnRlbnQuIE5vIHNwYW0uJywKICAgICAgICBzdWJtaXRUZXh0OiBzdWJtaXRUZXh0IHx8ICdTdWJzY3JpYmUnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBhZGRUb01haWxjaGltcCh0aGlzLnNsb3RQcm9wcy5tYWlsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuc2xvdFByb3BzLm1haWwgPSAnJzsKICAgICAgICBpZiAocG9wdXBFbmFibGVkKSBldmVudC4kZW1pdCgnc3VibWl0ZWQnLCB7CiAgICAgICAgICByZXN1bHQ6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuc2xvdFByb3BzLm1haWwgPSAnJzsKICAgICAgICBpZiAocG9wdXBFbmFibGVkKSBldmVudC4kZW1pdCgnc3VibWl0ZWQnLCByZXMpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["d:/MyProduct/blog/node_modules/vuepress-plugin-mailchimp/src/components/SimpleNewsletter.vue"],"names":["addToMailchimp","event","_debug","debug","submitText","content","title","popupEnabled","options","require","error","message","data","slotProps","mail","methods","onSubmit","catch","err","$emit","result","then","res"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,cAAP;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP,MAAmB,OAAnB;;AAEA,IAAMC,KAAK,GAAGD,MAAM,CAAC,kBAAD,CAApB;AAEA;;;;;;;AAKA,IAAIE,UAAJ,EAAgBC,OAAhB,EAAyBC,KAAzB,EAAgCC,YAAhC;;AAEA,IAAI;AACF,MAAMC,OAAO,GAAGC,OAAO,CAAC,2BAAD,CAAvB;;AACAL,EAAAA,UAAU,GAAGI,OAAO,CAACJ,UAArB;AACAC,EAAAA,OAAO,GAAGG,OAAO,CAACH,OAAlB;AACAC,EAAAA,KAAK,GAAGE,OAAO,CAACF,KAAhB;AACAC,EAAAA,YAAY,GAAGC,OAAO,CAACD,YAAvB;AACD,CAND,CAME,OAAOG,KAAP,EAAc;AACdP,EAAAA,KAAK,CAAC,qBAAD,EAAwBO,KAAK,CAACC,OAA9B,CAAL;AACD;;AAED,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLC,MAAAA,SAAS,EAAE;AACTC,QAAAA,IAAI,EAAE,EADG;AAETR,QAAAA,KAAK,EAAEA,KAAK,IAAI,YAFP;AAGTD,QAAAA,OAAO,EAAEA,OAAO,IAAI,+CAHX;AAITD,QAAAA,UAAU,EAAEA,UAAU,IAAI;AAJjB;AADN,KAAP;AAQD,GAVY;AAWbW,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,sBACI;AAAA;;AACThB,MAAAA,cAAc,CAAC,KAAKa,SAAL,CAAeC,IAAhB,CAAd,CACGG,KADH,CACS,UAAAC,GAAG,EAAI;AACZ,QAAA,KAAI,CAACL,SAAL,CAAeC,IAAf,GAAsB,EAAtB;AACA,YAAIP,YAAJ,EAAkBN,KAAK,CAACkB,KAAN,CAAY,UAAZ,EAAwB;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAxB;AACnB,OAJH,EAKGC,IALH,CAKQ,UAAAC,GAAG,EAAI;AACX,QAAA,KAAI,CAACT,SAAL,CAAeC,IAAf,GAAsB,EAAtB;AACA,YAAIP,YAAJ,EAAkBN,KAAK,CAACkB,KAAN,CAAY,UAAZ,EAAwBG,GAAxB;AACnB,OARH;AASD;AAXM;AAXI,CAAf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport addToMailchimp from '../mailchimpSubscribe';\nimport event from '../event';\nimport _debug from 'debug';\n\nconst debug = _debug('plugin-mailchimp');\n\n/**\n * If developers make UI customiztion and offer users an option whether to enable.\n * It won't be able to import client dynamic modules if it's disabled.\n * Use commonJs because dynamic import cannot be caught https://github.com/webpack/webpack/issues/5360\n */\nlet submitText, content, title, popupEnabled;\n\ntry {\n  const options = require('@dynamic/mailchimpOptions');\n  submitText = options.submitText;\n  content = options.content;\n  title = options.title;\n  popupEnabled = options.popupEnabled;\n} catch (error) {\n  debug('Fail to get options', error.message);\n}\n\nexport default {\n  data() {\n    return {\n      slotProps: {\n        mail: '',\n        title: title || 'Newsletter',\n        content: content || 'Subscribe to get my lastest content. No spam.',\n        submitText: submitText || 'Subscribe',\n      },\n    };\n  },\n  methods: {\n    onSubmit() {\n      addToMailchimp(this.slotProps.mail)\n        .catch(err => {\n          this.slotProps.mail = '';\n          if (popupEnabled) event.$emit('submited', { result: 'error' });\n        })\n        .then(res => {\n          this.slotProps.mail = '';\n          if (popupEnabled) event.$emit('submited', res);\n        });\n    },\n  },\n};\n"]}]}