{"remainingRequest":"D:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProduct\\blog\\node_modules\\@vuepress\\theme-blog\\components\\Toc.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProduct\\blog\\node_modules\\@vuepress\\theme-blog\\components\\Toc.vue","mtime":1580703995080},{"path":"D:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"D:\\MyProduct\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1580610013425},{"path":"D:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"D:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1580610017989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGlja2VyIGZyb20gJy4vU3RpY2tlci52dWUnCmxldCBpbml0VG9wCgovLyBnZXQgb2Zmc2V0IHRvcApmdW5jdGlvbiBnZXRBYnNvbHV0ZVRvcChkb20pIHsKICByZXR1cm4gZG9tICYmIGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QKICAgID8gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArCiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AKICAgIDogMAp9CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU3RpY2tlciwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlSW5kZXg6IDAsCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHZpc2libGUoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgdGhpcy4kZnJvbnRtYXR0ZXIgJiYKICAgICAgICB0aGlzLiRmcm9udG1hdHRlci50b2MgIT09IGZhbHNlICYmCiAgICAgICAgISEodGhpcy4kcGFnZSAmJiB0aGlzLiRwYWdlLmhlYWRlcnMgJiYgdGhpcy4kcGFnZS5oZWFkZXJzLmxlbmd0aCkKICAgICAgKQogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgYWN0aXZlSW5kZXgoKSB7CiAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy4kcmVmcy5jaGFpclRvY0l0ZW0gfHwgW10KICAgICAgY29uc3QgZG9tID0gaXRlbXNbdGhpcy5hY3RpdmVJbmRleF0KICAgICAgaWYgKCFkb20pIHJldHVybgogICAgICBjb25zdCByZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgIGNvbnN0IHdyYXBwZXJSZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICAgICAgY29uc3QgdG9wID0gcmVjdC50b3AgLSB3cmFwcGVyUmVjdC50b3AKICAgICAgaWYgKHRvcCA8IDIwKSB7CiAgICAgICAgdGhpcy4kZWwuc2Nyb2xsVG9wID0gdGhpcy4kZWwuc2Nyb2xsVG9wICsgdG9wIC0gMjAKICAgICAgfSBlbHNlIGlmICh0b3AgKyByZWN0LmhlaWdodCA+IHdyYXBwZXJSZWN0LmhlaWdodCkgewogICAgICAgIHRoaXMuJGVsLnNjcm9sbFRvcCArPSByZWN0LnRvcCAtICh3cmFwcGVyUmVjdC5oZWlnaHQgLSByZWN0LmhlaWdodCkKICAgICAgfQogICAgfSwKCiAgICAkcm91dGUoKSB7fSwKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8gc3luYyB2aXNpYmxlIHRvIHBhcmVudCBjb21wb25lbnQKICAgIGNvbnN0IHN5bmNWaXNpYmxlID0gKCkgPT4gewogICAgICB0aGlzLiRlbWl0KCd2aXNpYmxlLWNoYW5nZScsIHRoaXMudmlzaWJsZSkKICAgIH0KICAgIHN5bmNWaXNpYmxlKCkKICAgIHRoaXMuJHdhdGNoKCd2aXNpYmxlJywgc3luY1Zpc2libGUpCgogICAgLy8gYmluZGluZyBldmVudAogICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnRyaWdnZXJFdnQoKSwgMTAwMCkKCiAgICB0aGlzLl9vblNjcm9sbCA9ICgpID0+IHRoaXMub25TY3JvbGwoKQogICAgdGhpcy5fb25IYXNoQ2hhbmdlID0gKCkgPT4gewogICAgICBjb25zdCBoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKQogICAgICBjb25zdCBpbmRleCA9ICh0aGlzLiRwYWdlLmhlYWRlcnMgfHwgW10pLmZpbmRJbmRleChoID0+IGguc2x1ZyA9PT0gaGFzaCkKICAgICAgaWYgKGluZGV4ID49IDApIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleAogICAgICBjb25zdCBkb20gPSBoYXNoICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpCiAgICAgIGlmIChkb20pIHdpbmRvdy5zY3JvbGxUbygwLCBnZXRBYnNvbHV0ZVRvcChkb20pIC0gMjApCiAgICB9CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpCiAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCkKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uU2Nyb2xsKCkgewogICAgICBpZiAoaW5pdFRvcCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaW5pdFRvcCA9IGdldEFic29sdXRlVG9wKHRoaXMuJGVsKQogICAgICB9CgogICAgICAvLyB1cGRhdGUgcG9zaXRpb24KICAgICAgY29uc3Qgc2Nyb2xsVG9wID0KICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AKICAgICAgY29uc3QgaGVhZGluZ3MgPSB0aGlzLiRwYWdlLmhlYWRlcnMgfHwgW10KCiAgICAgIC8vIGNoYW5nZSBhY3RpdmUgdG9jIHdpdGggc2Nyb2xsaW5nCiAgICAgIGxldCBpID0gMAogICAgICBjb25zdCBhZGRMaW5rID0gaW5kZXggPT4gewogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleAogICAgICB9CgogICAgICBmb3IgKDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGVhZGluZ3NbaV0uc2x1ZykKICAgICAgICBjb25zdCB0b3AgPSBnZXRBYnNvbHV0ZVRvcChkb20pCiAgICAgICAgaWYgKHRvcCAtIDUwIDwgc2Nyb2xsVG9wKSB7CiAgICAgICAgICBhZGRMaW5rKGkpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghaSkgYWRkTGluayhpKQogICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgdHJpZ2dlckV2dCgpIHsKICAgICAgdGhpcy5fb25TY3JvbGwoKQogICAgICB0aGlzLl9vbkhhc2hDaGFuZ2UoKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["Toc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Toc.vue","sourceRoot":"node_modules/@vuepress/theme-blog/components","sourcesContent":["<template>\n  <Sticker v-if=\"visible\" class=\"vuepress-toc\" v-bind=\"$attrs\">\n    <div\n      v-for=\"(item, index) in $page.headers\"\n      ref=\"chairTocItem\"\n      :key=\"index\"\n      class=\"vuepress-toc-item\"\n      :class=\"[\n        `vuepress-toc-h${item.level}`,\n        { active: activeIndex === index },\n      ]\"\n    >\n      <a :href=\"`#${item.slug}`\" :title=\"item.title\">{{ item.title }}</a>\n    </div>\n  </Sticker>\n</template>\n\n<script>\nimport Sticker from './Sticker.vue'\nlet initTop\n\n// get offset top\nfunction getAbsoluteTop(dom) {\n  return dom && dom.getBoundingClientRect\n    ? dom.getBoundingClientRect().top +\n        document.body.scrollTop +\n        document.documentElement.scrollTop\n    : 0\n}\n\nexport default {\n  components: {\n    Sticker,\n  },\n\n  data() {\n    return {\n      activeIndex: 0,\n    }\n  },\n\n  computed: {\n    visible() {\n      return (\n        this.$frontmatter &&\n        this.$frontmatter.toc !== false &&\n        !!(this.$page && this.$page.headers && this.$page.headers.length)\n      )\n    },\n  },\n\n  watch: {\n    activeIndex() {\n      const items = this.$refs.chairTocItem || []\n      const dom = items[this.activeIndex]\n      if (!dom) return\n      const rect = dom.getBoundingClientRect()\n      const wrapperRect = this.$el.getBoundingClientRect()\n      const top = rect.top - wrapperRect.top\n      if (top < 20) {\n        this.$el.scrollTop = this.$el.scrollTop + top - 20\n      } else if (top + rect.height > wrapperRect.height) {\n        this.$el.scrollTop += rect.top - (wrapperRect.height - rect.height)\n      }\n    },\n\n    $route() {},\n  },\n\n  mounted() {\n    // sync visible to parent component\n    const syncVisible = () => {\n      this.$emit('visible-change', this.visible)\n    }\n    syncVisible()\n    this.$watch('visible', syncVisible)\n\n    // binding event\n    setTimeout(() => this.triggerEvt(), 1000)\n\n    this._onScroll = () => this.onScroll()\n    this._onHashChange = () => {\n      const hash = decodeURIComponent(location.hash.substring(1))\n      const index = (this.$page.headers || []).findIndex(h => h.slug === hash)\n      if (index >= 0) this.activeIndex = index\n      const dom = hash && document.getElementById(hash)\n      if (dom) window.scrollTo(0, getAbsoluteTop(dom) - 20)\n    }\n    window.addEventListener('scroll', this._onScroll)\n    // window.addEventListener('hashchange', this._onHashChange);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('scroll', this._onScroll)\n    window.removeEventListener('hashchange', this._onHashChange)\n  },\n\n  methods: {\n    onScroll() {\n      if (initTop === undefined) {\n        initTop = getAbsoluteTop(this.$el)\n      }\n\n      // update position\n      const scrollTop =\n        document.body.scrollTop + document.documentElement.scrollTop\n      const headings = this.$page.headers || []\n\n      // change active toc with scrolling\n      let i = 0\n      const addLink = index => {\n        this.activeIndex = index\n      }\n\n      for (; i < headings.length; i++) {\n        const dom = document.getElementById(headings[i].slug)\n        const top = getAbsoluteTop(dom)\n        if (top - 50 < scrollTop) {\n          addLink(i)\n        } else {\n          if (!i) addLink(i)\n          break\n        }\n      }\n    },\n\n    triggerEvt() {\n      this._onScroll()\n      this._onHashChange()\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.table-of-contents\n  display none !important\n\n.vuepress-toc\n  position fixed\n  display none\n  max-height 100vh\n  max-width 220px\n  overflow-y auto\n  padding-top 5rem\n  top 0\n  right 10px\n  box-sizing border-box\n  /* background: #fff; */\n  z-index 0\n\n  .vuepress-toc-item\n    position relative\n    padding 0.1rem 0.6rem 0.1rem 1.5rem\n    line-height 1.5rem\n    border-left 1px solid rgba(0, 0, 0, 0.08)\n    overflow hidden\n\n    a\n      display block\n      color $textColor\n      width 100%\n      box-sizing border-box\n      font-size 12px\n      font-weight 400\n      text-decoration none\n      transition color 0.3s\n      overflow hidden\n      text-overflow ellipsis\n      white-space nowrap\n\n    &.active\n      border-left-color $accentColor\n\n      a\n        color $accentColor\n\n    &:hover\n      a\n        color $accentColor\n\n  for i in range(3, 6)\n    .vuepress-toc-h{i} a\n      padding-left 1rem * (i - 2)\n\n// for vuepress-toc\n@media (min-width: 1300px)\n  .vuepress-toc\n    display block\n</style>\n"]}]}