{"remainingRequest":"d:\\MyProduct\\blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!d:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\MyProduct\\blog\\node_modules\\@vuepress\\theme-blog\\components\\Sticker.vue?vue&type=script&lang=js&","dependencies":[{"path":"d:\\MyProduct\\blog\\node_modules\\@vuepress\\theme-blog\\components\\Sticker.vue","mtime":1580703995080},{"path":"d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"d:\\MyProduct\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1580610013425},{"path":"d:\\MyProduct\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580610012451},{"path":"d:\\MyProduct\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1580610017989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmluZENvbnRhaW5lckluVm0gfSBmcm9tICIuL3V0aWwiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc3RpY2snLCAndGFnJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5lZWRGbG9hdDogZmFsc2UsCiAgICAgIHN0aWNrQm90dG9tOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHN0aWNrOiBmdW5jdGlvbiBzdGljaygpIHsKICAgICAgdGhpcy51blN0aWNrKCk7CiAgICAgIHRoaXMuc3RpY2tIYW5kbGUoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0aWNrSGFuZGxlKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy51blN0aWNrKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGlja0hhbmRsZTogZnVuY3Rpb24gc3RpY2tIYW5kbGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuc3RpY2spIHJldHVybjsKICAgICAgdmFyIHN0aWNrRWxlbWVudCA9IGZpbmRDb250YWluZXJJblZtKHRoaXMuc3RpY2ssIHRoaXMpOwogICAgICBpZiAoIXN0aWNrRWxlbWVudCkgcmV0dXJuOwoKICAgICAgdGhpcy5fc3RpY2tlclNjcm9sbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmVjdCA9IF90aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICBfdGhpcy5uZWVkRmxvYXQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCAtIHNjcm9sbFRvcCAtIHJlY3QuaGVpZ2h0IDwgc3RpY2tFbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgICBfdGhpcy5zdGlja0JvdHRvbSA9IHN0aWNrRWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIH07CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsKCk7CgogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc3RpY2tlclNjcm9sbCk7CiAgICB9LAogICAgdW5TdGljazogZnVuY3Rpb24gdW5TdGljaygpIHsKICAgICAgdGhpcy5uZWVkRmxvYXQgPSBmYWxzZTsKICAgICAgdGhpcy5zdGlja0JvdHRvbSA9IDA7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Sticker.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,SAAA,iBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,KAAA,CADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GARA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,OAAA;AACA,WAAA,WAAA;AACA;AAJA,GAVA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,SAAA,WAAA;AACA,GAnBA;AAqBA,EAAA,aArBA,2BAqBA;AACA,SAAA,OAAA;AACA,GAvBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,UAAA,YAAA,GAAA,iBAAA,CAAA,KAAA,KAAA,EAAA,IAAA,CAAA;AACA,UAAA,CAAA,YAAA,EAAA;;AAEA,WAAA,cAAA,GAAA,YAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA;;AACA,YAAA,SAAA,GACA,QAAA,CAAA,IAAA,CAAA,SAAA,GAAA,QAAA,CAAA,eAAA,CAAA,SADA;AAEA,QAAA,KAAA,CAAA,SAAA,GACA,QAAA,CAAA,IAAA,CAAA,YAAA,GAAA,SAAA,GAAA,IAAA,CAAA,MAAA,GACA,YAAA,CAAA,YAFA;AAGA,QAAA,KAAA,CAAA,WAAA,GAAA,YAAA,CAAA,YAAA;AACA,OARA;;AAUA,WAAA,cAAA;;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,KAlBA;AAoBA,IAAA,OApBA,qBAoBA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,MAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA;AAxBA;AAzBA,CAAA","sourcesContent":["<template>\n  <component\n    :is=\"tag || 'div'\"\n    class=\"sticker\"\n    :class=\"needFloat ? ['stick-float'] : undefined\"\n    :style=\"needFloat ? { bottom: `${stickBottom}px` } : undefined\"\n  >\n    <slot></slot>\n  </component>\n</template>\n\n<script>\nimport { findContainerInVm } from './util'\nexport default {\n  props: ['stick', 'tag'],\n\n  data() {\n    return {\n      needFloat: false,\n      stickBottom: 0,\n    }\n  },\n\n  watch: {\n    stick() {\n      this.unStick()\n      this.stickHandle()\n    },\n  },\n\n  mounted() {\n    this.stickHandle()\n  },\n\n  beforeDestroy() {\n    this.unStick()\n  },\n\n  methods: {\n    stickHandle() {\n      if (!this.stick) return\n      const stickElement = findContainerInVm(this.stick, this)\n      if (!stickElement) return\n\n      this._stickerScroll = () => {\n        const rect = this.$el.getBoundingClientRect()\n        const scrollTop =\n          document.body.scrollTop + document.documentElement.scrollTop\n        this.needFloat =\n          document.body.offsetHeight - scrollTop - rect.height <\n          stickElement.offsetHeight\n        this.stickBottom = stickElement.offsetHeight\n      }\n\n      this._stickerScroll()\n      window.addEventListener('scroll', this._stickerScroll)\n    },\n\n    unStick() {\n      this.needFloat = false\n      this.stickBottom = 0\n      window.removeEventListener('scroll', this._stickerScroll)\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.sticker\n  position fixed\n\n  &.stick-float\n    top auto\n    position absolute\n</style>\n"],"sourceRoot":"node_modules/@vuepress/theme-blog/components"}]}